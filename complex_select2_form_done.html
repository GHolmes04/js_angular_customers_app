<!DOCTYPE html>
<html>
  <head>
    <script src="bower_components/angular/angular.js"></script>
  </head>

  <body ng-app="myapp">

    <div ng-controller="MyController as ctrl" >
      <form>
        <input type="text" name="firstName" ng-model="ctrl.myForm.firstName"> First name <br/>
        <input type="text" name="lastName"  ng-model="ctrl.myForm.lastName"> Last name <br/>
        Sign Aggreement: <input type="checkbox" ng-model="ctrl.myForm.signedAgreement">
        <br/>
        Wants to receive the newsletter: <input type="checkbox" ng-model="ctrl.myForm.wantNewsletter" ng-true-value="'yes'" ng-false-value="'no'" >
        <br/>

        <fieldset>
          <legend>Newsletter</legend>
          <!-- Bind all radio buttons to the same model -->
          Daily <input type="radio" ng-model="ctrl.myForm.whichNewsletter" value="dailyNews">
          <br/>
          Weekly <input type="radio" ng-model="ctrl.myForm.whichNewsletter" value="weeklyNews">
          <br/>
          Monthly <input type="radio" ng-model="ctrl.myForm.whichNewsletter" value="monthlyNews">
          <br/>
        </fieldset>

        <label for="car-model" >Select Car Make</label>

        <!-- ng-options -->
        <!-- The format of the ng-options is -->
        <!-- <<option binding expression >> <<datasource expression >>  -->
        <!-- <<obj.id as obj.name>> <<for obj in ctrl.myForm.options>> -->
        <select id="car-model" ng-model="ctrl.myForm.car" ng-options="obj.id as obj.name group by obj.type for obj in ctrl.myForm.options" >
          <option value="">Please choose a car</option>
        </select>
      </form>

      <hr/>
      <div>
        <!-- Just show the models/properties bound to the input field -->
        <p>Name: {{ctrl.myForm.firstName}} {{ctrl.myForm.lastName}}</p>
        <p>Signed Aggreement: {{ctrl.myForm.signedAgreement}}
        <p>Wants Newsletter: {{ctrl.myForm.wantNewsletter}}
        <p>Which Newsletter: {{ctrl.myForm.whichNewsletter}}
        <p>Selected Car: {{ctrl.myForm.car}}

      </div>
    </div>

    <script>
      angular.module("myapp", [])
      .controller("MyController", function() {
      this.myForm = {};
      // init the name
      this.myForm.firstName = "Jakob";
      this.myForm.lastName  = "Jenkov";

      // not signed by default
      this.myForm.signedAgreement  = false;

      // wants news letter is 'yes' by default
      this.myForm.wantNewsletter = 'yes';

      // which news letter.
      this.myForm.whichNewsletter = 'weeklyNews';

      // selected car is 'nissan' by default
      // Use the default option set in the view.
      // this.myForm.car = 'nissan';

      this.myForm.options = [
      { id : "nissan", name: "Nissan", type: 'foreign' },
      { id : "gm"  , name: "General Motors", type: 'domestic' },
      { id : "toyota", name: "Toyota", type: 'foreign' },
      { id : "ford"  , name: "Ford", type: 'domestic' },
      { id : "am"  , name: "American Motors", type: 'domestic' },
      { id : "fiat"  , name: "Fiat", type: 'foreign' }
      ];
      } );
    </script>

  </body>
</html>
